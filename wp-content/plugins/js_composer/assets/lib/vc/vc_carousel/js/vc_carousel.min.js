(h=>{function r(t,i){this.$element=h(t),this.$indicators=this.$element.find(".vc_carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"===this.options.pause&&this.$element.on("mouseenter",h.proxy(this.pause,this)).on("mouseleave",h.proxy(this.cycle,this)),this._build()}r.DEFAULTS={mode:"horizontal",partial:!1,interval:5e3,pause:"hover",wrap:!1,autoHeight:!1,perView:1},r.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this.touch_start_position=0,this},r.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".vc_item.vc_active"),this.$active.length||(this.$active=this.$element.find(".vc_item:first").addClass("vc_active")),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},r.prototype.showHideControl=function(t){void 0===t&&(t=this.getActiveIndex()),this.$left_control[0===t?"hide":"show"](),this.$right_control[t===this.items_count-1?"hide":"show"]()},r.prototype.to=function(t){var i=this,e=this.getActiveIndex();if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid",function(){i.to(t)}):e==t?this.pause().cycle():this.slide(e<t?"next":"prev",h(this.$items[t]))},r.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".vc_right.vc_carousel-control, .vc_left.vc_carousel-control").length&&h.support.transition.end&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},r.prototype.next=function(){if(!this.sliding)return this.slide("next")},r.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},r.prototype.slide=function(t,i){var e=this.$element.find(".vc_item.vc_active"),s=i||e[t](),i=this.interval,n="next"===t?"vc_left":"vc_right",o="next"===t?"first":"last",r=this;if(!s.length){if(!this.options.wrap)return void this.returnSwipedSlide();s=this.$element.find(".vc_item")[o]()}this.sliding=!0,i&&this.pause();o=h.Event("slide.vc.carousel",{relatedTarget:s[0],direction:n});if(!s.hasClass("vc_active")){if(this.$indicators.length&&(this.$indicators.find(".vc_active").removeClass("vc_active"),this.$indicators.find(".vc_partial").removeClass("vc_partial"),this.$element.one("slid",function(){var t=r.getActiveIndex(),i=h(r.$indicators.children().slice(t,r.getActiveIndex()+r.options.perView));i&&i.addClass("vc_active"),r.options.partial&&i&&(t+1<r.items_count?i.last().next():i.first().prev()).addClass("vc_partial"),r.options.wrap||r.showHideControl(t)})),this.current_index=s.index(),r.options.wrap||this.showHideControl(this.current_index),this.current_index>this.items_count?this.current_index=0:this.current_index<0&&(this.current_index=this.items_count-1),this.options.autoHeight?this.current_pos_value=-1*this._step*this.current_index:this.current_pos_value=-1*s.position()[this.animation_position],this.options.partial&&this.current_index>=this.items_count-1&&(this.current_pos_value+=this._step*(1-this.partial_part)),h.support.transition&&this.$element.hasClass("vc_slide")){if(this.$element.trigger(o),o.isDefaultPrevented())return;this.$slideline_inner.addClass("vc_transition").css(this.animation_position,this.current_pos_value+r.pos_units),this.options.autoHeight||this.recalculateSlidelineHeight(s.height(),!0),this.$slideline_inner.one(h.support.transition.end,function(){s.addClass("vc_active"),e.removeClass("vc_active"),r.$slideline_inner.removeClass([t,"vc_transition"].join(" ")),r.sliding=!1,r.removeSwipeAnimationSpeed(),setTimeout(function(){r.$element.trigger("slid")},0)}).emulateTransitionEnd(this.transition_speed)}else{if(this.$element.trigger(o),o.isDefaultPrevented())return;e.removeClass("vc_active"),s.addClass("vc_active"),this.sliding=!1,this.$slideline_inner.css(this.animation_position,this.current_pos_value+r.pos_units)}return i&&this.cycle(),this}},r.prototype.setSwipeAnimationSpeed=function(){this.$slideline_inner.addClass("vc_swipe-transition")},r.prototype.removeSwipeAnimationSpeed=function(){this.$slideline_inner.removeClass("vc_swipe-transition")},r.prototype.velocity=function(t,i){return{x:Math.abs(i/t)||0}},r.prototype.recalculateSlidelineHeight=function(t,i){!0===i?this.$slideline.animate({height:t}):this.$slideline.height(t)},r.prototype.resizeAction=function(){var t,i=0;"horizontal"===this.options.mode&&(this.el_effect_size=this.$element.width()*(this.options.partial?this.partial_part:1),this.$slideline.width(this.items_count*this.el_effect_size)),this.options.autoHeight?(this.$items.height("auto"),this.$items.each(function(){var t=h(this).height();i<t&&(i=t)}),this.$items.height(i)):this.recalculateSlidelineHeight(this.$active.height()),"vertical"===this.options.mode&&(this._step=this.$active.height(),t=this.$active.height()*this.options.perView*(this.options.partial?2-this.partial_part:1),this.recalculateSlidelineHeight(t,!1),this.$slideline_inner.css({top:-1*this.$active.position().top}),this.el_effect_size=this._step)},r.prototype.returnSwipedSlide=function(){var t={};t[this.animation_position]=this.current_pos_value+this.pos_units,this.$slideline_inner.animate(t)},r.prototype._build=function(){var t=this.$element.get(0),i=!1,e=0,s=0,n=0,o=!1,r=this,a=this.options.mode;return this.getActiveIndex(),this.el_width=0,this.items_count=this.$items.length,this.$slideline=this.$element.find(".vc_carousel-slideline"),this.$slideline_inner=this.$slideline.find("> div"),this.slideline_inner=this.$slideline_inner.get(0),this.partial_part=.8,this._slide_width=0,this.swipe_velocity=.7,this.current_pos_value=0,this.current_index=0,this.el_effect_size=0,this.transition_speed=600,this.$left_control=this.$element.find(".vc_left.vc_carousel-control"),this.$right_control=this.$element.find(".vc_right.vc_carousel-control"),this.options.partial&&(this.options.autoHeight=!0),1<this.options.perView&&this.$element.addClass("vc_per-view-more vc_per-view-"+this.options.perView),"horizontal"===a?(this.pos_units="%",this._step=100/this.items_count/this.options.perView,this.animation_position="left",this.$items.width(this._step+this.pos_units),this.touch_direction="pageX"):(this.pos_units="px",this.animation_position="top",this.touch_direction="pageY",this.$element.addClass("vc_carousel_vertical")),r.options.wrap||this.showHideControl(),this.options.partial&&this.$element.addClass("vc_partial"),this.$indicators.length&&(a=r.$indicators.children().slice(this.current_index,this.current_index+this.options.perView).addClass("vc_active"),this.options.partial)&&a.last().next().addClass("vc_partial"),h(window).resize(this.resizeAction.bind(this)),this.resizeAction(),t.addEventListener("touchstart",function(t){i=parseFloat(t[r.touch_direction]),e=t.timeStamp,s=r.$slideline_inner.position()[r.animation_position]}.bind(this),!1),t.addEventListener("touchmove",function(t){if(n=parseFloat(t[r.touch_direction])-i,!(o=0<Math.abs(n)))return!0;t.preventDefault(),r.slideline_inner.style[r.animation_position]=s+n+"px"},!1),t.addEventListener("touchend",function(t){var i;o&&(t=(t.timeStamp-e)/1e3,i=n/r.el_effect_size,(t=r.velocity(t,i)).x>r.swipe_velocity&&i<0||i<=-.7?(r.setSwipeAnimationSpeed(),r.next()):t.x>r.swipe_velocity||.7<=i?(r.setSwipeAnimationSpeed(),r.prev()):r.returnSwipedSlide(),o=!1)},!1),this.$element.addClass("vc_build"),this};var t=h.fn.carousel;h.fn.carousel=function(n,o){return this.each(function(){var t=h(this),i=t.data("vc.carousel"),e=h.extend({},r.DEFAULTS,t.data(),"object"==typeof n&&n),s="string"==typeof n?n:e.slide;i||(i=new r(this,e),t.data("vc.carousel",i)),"number"==typeof n?i.to(n):s?i[s](o):e.interval&&i.pause().cycle()})},h.fn.carousel.Constructor=r,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this},h(document).off("click.vc.carousel.data-api").on("click.vc.carousel.data-api","[data-slide], [data-slide-to]",function(t){var i=h(this),e=h(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),s=h.extend({},e.data(),i.data()),i=i.attr("data-slide-to");i&&(s.interval=!1),e.carousel(s),i&&e.data("vc.carousel").to(i),t.preventDefault()}),h(window).on("load",function(){h('[data-ride="vc_carousel"]').each(function(){var t=h(this);t.carousel(t.data())})})})(window.jQuery);