jQuery(document).ready(function(i){var e=i("#wpb_js_use_custom").prop("checked"),n=[];function r(e,n,o,s){s&&i(".vc_atm-message").remove();var t=i('<div class="vc_atm-message '+(n||"")+'" style="display: none;"><p></p></div>');return t.find("p").text(e),_.isUndefined(o)||window.setTimeout(function(){t.fadeOut(500,function(){i(this).remove()})},o),t}vc.initColorPicker(null,{disabled:!e},null,n),i("#vc_settings-color-restore-default").on("click",function(e){e.preventDefault(),confirm(window.i18nLocaleSettings.are_you_sure_reset_color)&&(i("#vc_settings-color-action").val("restore_color"),i("#vc_settings-color").attr("action",window.location.href).find("[type=submit]").click())}),i("#wpb_js_use_custom").on("change",function(){this.checked?(i("#vc_settings-color").addClass("color_enabled"),n.forEach(function(e){e.enable()})):(i("#vc_settings-color").removeClass("color_enabled"),n.forEach(function(e){e.disable()}))});var a=!1;i("#vc_settings-color").on("submit",function(e){var n,o,s,t;e.preventDefault(),a||(t=i("#submit_btn"),i("#wpb_js_use_custom").prop("checked")&&"restore_color"!==i("#vc_settings-color-action").val()?(a=!0,n=i(this).serializeArray(),o=t.data("vc-less-variables"),s=i('<span class="vc_settings-spinner vc_ui-wp-spinner"></span>'),t.val(window.i18nLocaleSettings.saving),s.insertBefore(t).show(),_.delay(function(){vc.less.build({modifyVars:n,variablesDataLinker:o,lessPath:t.data("vc-less-path"),rootpath:t.data("vc-less-root")},function(e,n){_.isUndefined(e)||_.isUndefined(e.css)?_.isUndefined(n)||(window.console&&window.console.warn&&window.console.warn("build error",n),r(window.i18nLocaleSettings.save_error+". "+n,"error",void 0,!0).insertBefore(t.parent()).fadeIn(500),t.val(window.i18nLocaleSettings.save),a=!1,s.remove()):(i('[name="wpb_js_compiled_js_composer_less"]').val(e.css),n=i("#vc_settings-color"),i.ajax({type:"POST",url:n.attr("action"),data:n.eq(0).serializeArray(),success:function(){r(window.i18nLocaleSettings.saved,"updated",5e3,!0).insertBefore(t.parent()).fadeIn(500),t.val(window.i18nLocaleSettings.save),a=!1,s.remove()},error:function(){r(window.i18nLocaleSettings.form_save_error,"error",void 0,!0).insertBefore(t.parent()).fadeIn(500),t.val(window.i18nLocaleSettings.save),a=!1,s.remove()}}))})},100)):this.submit())})});