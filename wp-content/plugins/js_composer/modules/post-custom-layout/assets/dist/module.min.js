jQuery(document).ready(function(e){function c(t){var t=e(t.currentTarget),o=t.attr("data-post-custom-layout"),a=e("#wpb_wpbakery");e("#vc_settings-post_template").toggle("blank"!==o),a&&(t=e("#vc_ui-panel-post-settings .vc_post-custom-layout[data-post-custom-layout="+o+"]"),a.find(".vc_navbar").addClass("vc_post-custom-layout-selected"),a.find(".metabox-composer-content").addClass("vc_post-custom-layout-selected")),s(o,t)}function s(t,o=!1){(o=o||e(".vc_post-custom-layout[data-post-custom-layout="+t+"]")).addClass("vc-active-post-custom-layout"),o.siblings().removeClass("vc-active-post-custom-layout"),e("input[name=vc_post_custom_layout]").val(t)}e(".vc_post-custom-layout").on("click",c),e("#vc_ui-panel-post-settings .vc_post-custom-layout").on("click",function(t){var t=e(t.currentTarget).attr("data-post-custom-layout"),o="default"===t?"blank":"default",a=window.vc.pagesettingseditor||{};a.custom_layout={currentValue:t,previousValue:o},window.vc.pagesettingseditor=a}).on("click",function(t){var o,a;"admin_frontend_editor"===window.vc_mode&&(t.preventDefault(),o=new URL(window.location.href),(a=o.searchParams).delete("vc_post_custom_layout"),window.history.replaceState({},"",o.origin+o.pathname+"?"+a.toString()),c(t))}),e(document).on("wpbPageSettingRollBack",function(t){t.detail.custom_layout&&s(t.detail.custom_layout.currentValue)})});